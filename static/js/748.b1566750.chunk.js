"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[748],{6338:function(e,r,t){t.d(r,{Z:function(){return n}});var o=t(6515),a=(t(2791),{container:"Checkbox_container__sVo6P",Checkbox:"Checkbox_Checkbox__JIYPe",error:"Checkbox_error__dLJ4c"}),s=t(184),n=function(e){var r=e.register,t=e.name,n=e.validation,i=e.className,l=e.error,c=e.labelText;return(0,s.jsxs)("div",{className:"".concat(a.Checkbox," ").concat(i),children:[(0,s.jsx)("input",(0,o.Z)((0,o.Z)({type:"checkbox",id:t},r(t,(0,o.Z)({},n))),{},{className:a.checkboxInput})),(0,s.jsx)("label",{htmlFor:t,tabIndex:Number("0"),className:"".concat(a.checkboxLabel," ").concat(l&&a.error),children:c})]})}},4003:function(e,r,t){t(2791);var o=t(8132),a=t(184);r.Z=function(e){var r=e.className,t=e.error,s=e.children;return(0,a.jsxs)("div",{className:"".concat(o.Z.Field," ").concat(r),children:[s,t&&(0,a.jsx)("p",{className:o.Z.errorMessage,children:t.message})]})}},7762:function(e,r,t){t.d(r,{Z:function(){return d}});var o=t(6515),a=t(3738),s=(t(2791),"Textarea_Textarea__Vwi60"),n="Textarea_textarea__ro8Cq",i="Textarea_error__nqZBf",l="Textarea_errorMessage__6IvbI",c=t(184),u=["register","name","validation","error","className","placeholder"],d=function(e){var r=e.register,t=e.name,d=e.validation,f=e.error,_=e.className,m=e.placeholder,x=(0,a.Z)(e,u);return(0,c.jsxs)("div",{className:s,children:[(0,c.jsx)("textarea",(0,o.Z)((0,o.Z)((0,o.Z)({},r(t,(0,o.Z)((0,o.Z)({},d),{},{minLength:{value:2,message:"Your text is too short"}}))),x),{},{className:"".concat(n," ").concat(_," ").concat(f&&i),placeholder:m||""})),f&&(0,c.jsx)("p",{className:l,children:f.message})]})}},5762:function(e,r,t){t.r(r),t.d(r,{default:function(){return K}});var o=t(3508),a=t(3032),s=t(3430),n=t(2791),i=t(6871),l=t(6515),c={container:"ProfileBody_container__IDU7r",profileBody:"ProfileBody_profileBody__YJWNv",cover:"ProfileBody_cover__1KR2Z",info:"ProfileBody_info__alpqF",avatar:"ProfileBody_avatar__WQwrJ",my:"ProfileBody_my__5cGg0",ProfileInfo:"ProfileBody_ProfileInfo__GywZa",login:"ProfileBody_login__cTPUm",statusText:"ProfileBody_statusText__dsdVz",defaultStatus:"ProfileBody_defaultStatus__vZOuL",profileStatus:"ProfileBody_profileStatus__GNJJn",statusInput:"ProfileBody_statusInput__VOoMQ",editBtn:"ProfileBody_editBtn__OVUeV",ProfileInfoForm:"ProfileBody_ProfileInfoForm__CEaZv",errorMessage:"ProfileBody_errorMessage__Ya9NO",input:"ProfileBody_input__jIRrx",lookingForAJob:"ProfileBody_lookingForAJob__wpsbi",lookingForAJobDescription:"ProfileBody_lookingForAJobDescription__fJIUi",submitBtn:"ProfileBody_submitBtn__ITDKu",contacts:"ProfileBody_contacts__5OOPg",contactsTitle:"ProfileBody_contactsTitle__wJUsx",logoutBtn:"ProfileBody_logoutBtn__6VR8k"},u=t(2293),d=t.p+"static/media/default-cover.9d30c93d55630fcda356.png",f=t(6301),_="Contact_Contact__5Gre7",m=t(184),x=function(e){var r=e.title,t=e.value;return(0,m.jsx)("div",{className:_,children:(0,m.jsx)("a",{href:t||"",target:"_blank",children:r})})},p=function(e){var r=e.profileInfo,t=(e.updateMyStatus,e.activateEdit),o=r.fullName,a=void 0===o?"":o,n=r.aboutMe,i=r.isMyProfile,l=r.contacts,u=r.lookingForAJob,d=r.lookingForAJobDescription,f=Object.entries(l||{}).map((function(e){var r=(0,s.Z)(e,2),t=r[0],o=r[1];return(0,m.jsx)(x,{title:t,value:o},t)})),_=a.split("").map((function(e){return e.toUpperCase()===e?" ".concat(e):e})).join(" ");return(0,m.jsxs)("div",{className:c.ProfileInfo,children:[(0,m.jsx)("p",{className:c.login,children:_}),(0,m.jsx)("div",{className:c.statusText,children:(0,m.jsx)("p",{children:n})}),(0,m.jsxs)("p",{className:c.lookingForAJob,children:[(0,m.jsx)("b",{children:"Looking for a job:"})," ",u?"Yes":"No"]}),u&&(0,m.jsxs)("p",{className:c.lookingForAJobDescription,children:[(0,m.jsx)("b",{children:"Description:"})," ",d]}),(0,m.jsx)("h2",{className:c.contactsTitle,children:"Contacts"}),(0,m.jsx)("div",{className:c.contacts,children:f}),i&&(0,m.jsx)("button",{className:c.editBtn,onClick:t,children:"Edit"})]})},h=t(8995),v=t(4003),j=t(6338),g=t(7762),b=function(e){var r=e.deactivateEdit,t=e.profileInfo,o=e.updateMyProfileData,a=e.formError,i=(0,h.cI)({defaultValues:(0,l.Z)({},t)}),u=i.register,d=i.handleSubmit,f=i.watch,_=i.setFocus,x=i.formState.errors,p=n.useState(null),b=(0,s.Z)(p,2),N=b[0],P=b[1];n.useEffect((function(){_("fullName",{shouldSelect:!0})}),[_]);var y=Object.entries(t.contacts).map((function(e){var r=(0,s.Z)(e,2),t=r[0],o=(r[1],"contacts.".concat(t));return(0,m.jsxs)("div",{className:c.contact,children:[(0,m.jsxs)("b",{children:[t,":"]}),(0,m.jsx)(v.Z,{className:c.contact,error:x.contacts&&x.contacts[t],children:(0,m.jsx)("input",(0,l.Z)({type:"url",placeholder:"Input your ".concat(t,"'s link")},u(o,{pattern:{value:/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/,message:"Input valid link, https://www.websiteName.com/..."}})),t)})]},t)}));n.useEffect((function(){P(a)}),[a]);return(0,m.jsxs)("form",{className:c.ProfileInfoForm,onChange:function(){return P(null)},onSubmit:d((function(e){N||(o(e),r())})),children:[N&&(0,m.jsx)("p",{className:c.errorMessage,children:N}),(0,m.jsx)(v.Z,{className:c.input,error:x.fullName,children:(0,m.jsx)("input",(0,l.Z)({type:"text",placeholder:"Input your login"},u("fullName",{pattern:/[a-zA-Z]+/,minLength:{value:2,message:"Your name must include over 1 symbol"},maxLength:{value:60,message:"Your login must be shorter than 61 symbol"}})))}),(0,m.jsx)(g.Z,{placeholder:"About me",name:"aboutMe",error:x.aboutMe,validation:{maxLength:{value:300,message:"Max status length: 300"}},register:u}),(0,m.jsxs)("div",{className:c.lookingForAJob,children:[(0,m.jsx)("b",{children:"Looking for a job:"}),(0,m.jsx)(j.Z,{name:"lookingForAJob",register:u,validation:{required:!1},labelText:"",error:x.lookingForAJob})]}),f("lookingForAJob")&&(0,m.jsxs)("div",{className:c.lookingForAJobDescription,children:[(0,m.jsx)("b",{children:"Description:"}),(0,m.jsx)(g.Z,{register:u,name:"lookingForAJobDescription",error:x.lookingForAJobDescription,placeholder:"For job description",validation:void 0,rest:void 0})]}),(0,m.jsxs)("div",{className:c.contacts,children:[(0,m.jsx)("h2",{className:c.contactsTitle,children:"Contacts"}),y]}),(0,m.jsx)("button",{type:"submit",className:c.submitBtn,children:"Save"})]})},N=t(2177),P=t(3768),y=t(8582),Z=t(2457),k=t(4048),I=function(e){var r=e.followed,t=e.currUserProfileInfo,l=(0,N.v9)(y.Wv),_=(0,N.I0)(),x=function(e){_(Z.ef.setMyStatus(e))},h=(0,i.s0)(),v=n.useState(!1),j=(0,s.Z)(v,2),g=j[0],I=j[1],w=n.useState(!1),B=(0,s.Z)(w,2),F=B[0],J=B[1],C=n.useState(r),T=(0,s.Z)(C,2),A=T[0],S=T[1],E=t.userId,M=t.photos,D=t.isMyProfile,U=M||{},L=U.small,V=U.large,O=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(r){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=r.target).files){e.next=3;break}return e.abrupt("return");case 3:if(!(t.files.length>0)){e.next=8;break}return I(!0),e.next=7,o=t.files[0],void _((0,Z.J3)(o));case 7:I(!1);case 8:case"end":return e.stop()}var o}),e)})));return function(r){return e.apply(this,arguments)}}();return g?(0,m.jsx)(f.Z,{}):(0,m.jsxs)("div",{className:c.profileBody,children:[(0,m.jsx)("div",{className:c.cover,children:(0,m.jsx)("img",{src:L||d,alt:"Cover img"})}),(0,m.jsxs)("div",{className:c.info,children:[(0,m.jsxs)("div",{className:"".concat(c.avatar," ").concat(D&&c.my),children:[(0,m.jsx)("img",{src:V||u,alt:"Loading avatar..."}),D&&(0,m.jsxs)("div",{className:c.addFile,children:[(0,m.jsx)("input",{type:"file",id:"getFile",onChange:O}),(0,m.jsx)("label",{htmlFor:"getFile",children:"Set avatar"})]})]}),F?(0,m.jsx)(b,{deactivateEdit:function(){return J(!1)},formError:l,profileInfo:t,updateMyStatus:x,updateMyProfileData:function(e){_(Z.ef.setMyProfileInfo(e))}}):(0,m.jsx)(p,{activateEdit:function(){return J(!0)},profileInfo:t,updateMyStatus:x}),D&&(0,m.jsx)("button",{className:c.logoutBtn,onClick:function(){_((0,k.kS)())},children:"Logout"}),!D&&(0,m.jsx)(P.Z,{isFollowed:A,userId:E,setIsFollowed:function(e){S(e),h("/profile/".concat(E,"/").concat(e),{replace:!0})}})]})]})},w="Post_post__43cTw",B="Post_avatar__dGEbx",F="Post_text__swDVs",J=function(e){var r=e.data,t=e.avatarUrl;return(0,m.jsxs)("div",{className:w,children:[(0,m.jsx)("div",{className:B,children:(0,m.jsx)("img",{src:t})}),(0,m.jsxs)("div",{className:F,children:[(0,m.jsx)("p",{children:r.text}),(0,m.jsxs)("p",{children:["Likes count: ",r.likesCount]})]})]})},C="Profile_profile__iROPK",T="Profile_myPosts__3JCrI",A="Profile_title__g+iCI",S=function(e){var r,t=e.postsData,o=e.avatarUrl;return r=t.length>0?t.map((function(e){return console.log(e),(0,m.jsx)(J,{avatarUrl:o||u,data:e},e.id)})):"",(0,m.jsx)("div",{className:T,children:r})},E=(0,N.$j)((function(e){var r,t;return{postsData:e.profilePage.postsData,avatarUrl:null===(r=e.profilePage.currUserProfileInfo)||void 0===r||null===(t=r.photos)||void 0===t?void 0:t.small}}))(S),M="NewPost_NewPost__l342s",D=function(e){var r=e.addPost,t=(0,h.cI)(),o=t.handleSubmit,a=t.resetField,s=t.watch,n=t.register,i=t.formState.errors;return(0,m.jsxs)("form",{className:M,onSubmit:o((function(){r(s("postText")),a("postText")})),children:[(0,m.jsx)(g.Z,{validation:{maxLength:{value:500,message:"Your post too long"}},name:"postText",placeholder:"text...",register:n,error:i.postText}),(0,m.jsx)("button",{children:"Add Post"})]})},U=(0,N.$j)(null,{addPost:Z.ef.addPost})(D),L=function(e){return(0,m.jsxs)("div",{className:C,children:[(0,m.jsx)(I,(0,l.Z)({},e)),(0,m.jsx)("h2",{className:A,children:"My posts"}),(0,m.jsx)(U,{}),(0,m.jsx)(E,{})]})},V=t(3051),O=t(7810),Y=t(1928),q=t(2789),z=t(6419),G=t(3724),K=(0,q.qC)(z.Z,Y.Z)((function(e){var r=n.useState(null),t=(0,s.Z)(r,2),l=t[0],c=t[1],u=(0,N.v9)(O.a7),d=(0,N.v9)(G.pT),_=(0,N.v9)(y.ok),x=(0,N.v9)(y.JE),p=(0,N.I0)(),h=function(e){p((0,Z.B3)(e))};return n.useEffect((function(){e.router.params.userId?c(e.router.params.userId):c(null)}),[e.router.params.userId]),n.useEffect((function(){var e=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(r);case 2:t=!1,p(V._B.toggleIsFetchingAC(t));case 3:case"end":return e.stop()}var t}),e)})));return function(r){return e.apply(this,arguments)}}();l&&e(l)}),[l]),u||e.router.params.userId?d?(0,m.jsx)(f.Z,{}):(0,m.jsx)(L,{currUserProfileInfo:l?_:x,followed:e.router.params.isFollowed}):(0,m.jsx)(i.Fg,{to:"/login",replace:!0})}))},6419:function(e,r,t){t.d(r,{Z:function(){return f}});var o=t(6515),a=t(3738),s=(t(2791),t(2177)),n="NetworkError_NetworkError__7whnV",i="NetworkError_errorText__9A-Da",l=t(184),c=function(e){return(0,l.jsx)("div",{className:n,children:(0,l.jsx)("p",{className:i,children:"Please check your internet connection and try again"})})},u=["isNetworkError"],d=function(e){return{isNetworkError:e.app.isNetworkError}};var f=function(e){return(0,s.$j)(d)((function(r){r.isNetworkError;var t=(0,a.Z)(r,u);return r.isNetworkError?(0,l.jsx)(c,{}):(0,l.jsx)(e,(0,o.Z)({},t))}))}},8132:function(e,r){r.Z={container:"Field_container__1XU3U",Field:"Field_Field__-Tjhi",errorMessage:"Field_errorMessage__vB2Ku"}}}]);
//# sourceMappingURL=748.b1566750.chunk.js.map