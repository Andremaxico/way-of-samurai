"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[24],{350:function(e,r,t){t.d(r,{Z:function(){return l}});var o=t(1413),a=t(5987),s=(t(2791),{container:"Checkbox_container__sVo6P",Checkbox:"Checkbox_Checkbox__JIYPe",error:"Checkbox_error__dLJ4c"}),i=t(184),n=["register","name"],l=function(e){var r=e.register,t=e.name,l=(0,a.Z)(e,n);return(0,i.jsxs)("div",{className:"".concat(s.Checkbox," ").concat(l.className),children:[(0,i.jsx)("input",(0,o.Z)((0,o.Z)({type:"checkbox",id:t},r(t,(0,o.Z)({required:!0},l.validation))),{},{className:s.checkboxInput})),(0,i.jsx)("label",{htmlFor:t,tabIndex:"0",className:"".concat(s.checkboxLabel," ").concat(l.error&&s.error),children:l.labelText})]})}},6797:function(e,r,t){t.d(r,{s8:function(){return d},ZI:function(){return u},ZP:function(){return f}});var o=t(1413),a=t(5987),s=(t(2791),{container:"Field_container__1XU3U",Field:"Field_Field__-Tjhi",errorMessage:"Field_errorMessage__vB2Ku"}),i=t(184),n=["register"],l=["register"],c=function(e){var r=e.className,t=e.error,o=e.children;return(0,i.jsxs)("div",{className:"".concat(s.Field," ").concat(r),children:[o,t&&(0,i.jsx)("p",{className:s.errorMessage,children:t.message})]})},u=function(e){var r=e.register,t=(0,a.Z)(e,n);return(0,i.jsx)(c,(0,o.Z)((0,o.Z)({},t),{},{children:(0,i.jsx)("input",(0,o.Z)({type:"password",className:s.input,autoComplete:"true",placeholder:"Password"},r("password",{required:"This field is required",pattern:{message:"Password must have at least 1 upper case symbol, 1 number"},minLength:{value:8,message:"Your password too short"},maxLength:{value:14,message:"Your password too long"}})))}))},d=function(e){var r=e.register,t=(0,a.Z)(e,l);return(0,i.jsx)(c,(0,o.Z)((0,o.Z)({},t),{},{children:(0,i.jsx)("input",(0,o.Z)({type:"email",className:s.input,placeholder:"Email"},r("email",{required:"This field is required"})))}))},f=c},8331:function(e,r,t){t.d(r,{Z:function(){return d}});var o=t(1413),a=t(5987),s=(t(2791),"Textarea_Textarea__Vwi60"),i="Textarea_textarea__ro8Cq",n="Textarea_error__nqZBf",l="Textarea_errorMessage__6IvbI",c=t(184),u=["register","name","validation"],d=function(e){var r=e.register,t=e.name,d=e.validation,f=(0,a.Z)(e,u);return(0,c.jsxs)("div",{className:s,children:[(0,c.jsx)("textarea",(0,o.Z)((0,o.Z)((0,o.Z)({},r(t,(0,o.Z)((0,o.Z)({},d),{},{minLength:{value:2,message:"Your text is too short"}}))),f),{},{className:"".concat(i," ").concat(f.className," ").concat(f.error&&n),placeholder:f.placeholder||""})),f.error&&(0,c.jsx)("p",{className:l,children:f.error.message})]})}},5261:function(e,r,t){t.r(r),t.d(r,{default:function(){return V}});var o=t(885),a=t(2791),s=t(6871),i=t(1413),n=t(4942),l=t(4165),c=t(5861),u={container:"ProfileBody_container__IDU7r",profileBody:"ProfileBody_profileBody__YJWNv",cover:"ProfileBody_cover__1KR2Z",info:"ProfileBody_info__alpqF",avatar:"ProfileBody_avatar__WQwrJ",my:"ProfileBody_my__5cGg0",ProfileInfo:"ProfileBody_ProfileInfo__GywZa",login:"ProfileBody_login__cTPUm",statusText:"ProfileBody_statusText__dsdVz",defaultStatus:"ProfileBody_defaultStatus__vZOuL",profileStatus:"ProfileBody_profileStatus__GNJJn",statusInput:"ProfileBody_statusInput__VOoMQ",editBtn:"ProfileBody_editBtn__OVUeV",ProfileInfoForm:"ProfileBody_ProfileInfoForm__CEaZv",errorMessage:"ProfileBody_errorMessage__Ya9NO",input:"ProfileBody_input__jIRrx",lookingForAJob:"ProfileBody_lookingForAJob__wpsbi",lookingForAJobDescription:"ProfileBody_lookingForAJobDescription__fJIUi",submitBtn:"ProfileBody_submitBtn__ITDKu",contacts:"ProfileBody_contacts__5OOPg",contactsTitle:"ProfileBody_contactsTitle__wJUsx",contact:"ProfileBody_contact__3ow2t",logoutBtn:"ProfileBody_logoutBtn__6VR8k"},d=t(2293),f=t.p+"static/media/default-cover.9d30c93d55630fcda356.png",m=t(6301),p=t(184),_=function(e){e.contact;var r=e.title,t=e.value;if(t)return(0,p.jsx)("div",{className:u.contact,children:(0,p.jsx)("a",{href:t,target:"_blank",children:r})})},h=function(e){var r=e.profileInfo,t=(e.updateMyStatus,e.activateEdit),a=r.fullName,s=r.aboutMe,i=r.isMyProfile,n=r.contacts,l=r.lookingForAJob,c=r.lookingForAJobDescription,d=Object.entries(n).map((function(e){var r=(0,o.Z)(e,2),t=r[0],a=r[1];return(0,p.jsx)(_,{title:t,value:a},t)})),f=a.split("").map((function(e){return e.toUpperCase()===e?" ".concat(e):e}));return(0,p.jsxs)("div",{className:u.ProfileInfo,children:[(0,p.jsx)("p",{className:u.login,children:f}),(0,p.jsx)("div",{className:u.statusText,children:(0,p.jsx)("p",{children:s})}),(0,p.jsxs)("p",{className:u.lookingForAJob,children:[(0,p.jsx)("b",{children:"Looking for a job:"})," ",l?"Yes":"No"]}),l&&(0,p.jsxs)("p",{className:u.lookingForAJobDescription,children:[(0,p.jsx)("b",{children:"Description:"})," ",c]}),(0,p.jsx)("h2",{className:u.contactsTitle,children:"Contacts"}),(0,p.jsx)("div",{className:u.contacts,children:d}),i&&(0,p.jsx)("button",{className:u.editBtn,onClick:t,children:"Edit"})]})},x=t(5290),g=t(6797),v=t(350),j=t(8331),P=t(445),y=function(e){var r=e.deactivateEdit,t=e.profileInfo,s=(e.myProfileFormError,e.updateMyProfileData),n=e.formError,l=(0,x.cI)({defaultValues:(0,i.Z)({},t)}),c=l.register,d=l.handleSubmit,f=l.watch,m=l.setFocus,_=l.formState.errors,h=l.setError,P=l.clearErrors;(0,a.useEffect)((function(){m("fullName",{shouldSelect:!0})}),[m]);var y=Object.entries(t.contacts).map((function(e){var r=(0,o.Z)(e,2),t=r[0];r[1];return(0,p.jsxs)("div",{className:u.contact,children:[(0,p.jsxs)("b",{children:[t,":"]}),(0,p.jsx)(g.ZP,{className:u.contact,error:_.contacts&&_.contacts[t],children:(0,p.jsx)("input",(0,i.Z)({type:"url",placeholder:"Input your ".concat(t,"'s link")},c("contacts.".concat(t),{pattern:{value:/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/,message:"Input valid link, http://www.websiteName.com/..."}})),t)})]},t)}));(0,a.useEffect)((function(){n?h("summary",{type:"custom",message:n}):P("summary")}),[n]);return(0,p.jsxs)("form",{className:u.ProfileInfoForm,onChange:function(){P("summary")},onSubmit:d((function(e){s(e),r()})),children:[_.summary&&(0,p.jsx)("p",{className:u.errorMessage,children:_.summary.message}),(0,p.jsx)(g.ZP,{className:u.input,error:_.fullName,children:(0,p.jsx)("input",(0,i.Z)({type:"text",placeholder:"Input your login"},c("fullName",{pattern:/[a-zA-Z]+/,minLength:{value:2,message:"Your name must include over 1 symbol"},maxLength:{value:60,message:"Your login must be shorter than 61 symbol"}})))}),(0,p.jsx)(j.Z,{placeholder:"About me",name:"aboutMe",error:_.aboutMe,validation:{maxLength:{value:300,message:"Max status length: 300"}},register:c}),(0,p.jsxs)("div",{className:u.lookingForAJob,children:[(0,p.jsx)("b",{children:"Looking for a job:"}),(0,p.jsx)(v.Z,{name:"lookingForAJob",register:c,validation:{required:!1},labelText:""})]}),f("lookingForAJob")&&(0,p.jsxs)("div",{className:u.lookingForAJobDescription,children:[(0,p.jsx)("b",{children:"Description:"}),(0,p.jsx)(j.Z,{register:c,name:"lookingForAJobDescription",error:_.lookingForAJobDescription,placeholder:"For job description"})]}),(0,p.jsxs)("div",{className:u.contacts,children:[(0,p.jsx)("h2",{className:u.contactsTitle,children:"Contacts"}),y]}),(0,p.jsx)("button",{type:"submit",className:u.submitBtn,children:"Save"})]})};var b=function(e){var r,t=e.logout,s=e.setAvatar,i=e.currUserProfileInfo,_=e.updateMyStatus,x=e.formError,g=e.updateMyProfileData,v=(0,a.useState)(!1),j=(0,o.Z)(v,2),P=j[0],b=j[1],Z=(0,a.useState)(!1),N=(0,o.Z)(Z,2),I=N[0],k=N[1],B=(i.userId,i.photos),F=i.isMyProfile,w=B.small,M=B.large,A=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(r){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.target.files.length>0)){e.next=5;break}return b(!0),e.next=4,s(r.target.files[0]);case 4:b(!1);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return P?(0,p.jsx)(m.Z,{}):(0,p.jsxs)("div",{className:u.profileBody,children:[(0,p.jsx)("div",{className:u.cover,children:(0,p.jsx)("img",{src:w||f,alt:"Cover img"})}),(0,p.jsxs)("div",{className:u.info,children:[(0,p.jsxs)("div",{className:"".concat(u.avatar," ").concat(F&&u.my),children:[(0,p.jsx)("img",{src:M||d,alt:"Loading avatar..."}),F&&(0,p.jsxs)("div",{className:u.addFile,children:[(0,p.jsx)("input",{type:"file",id:"getFile",onChange:A}),(0,p.jsx)("label",{htmlFor:"getFile",children:"Set avatar"})]})]}),I?(0,p.jsx)(y,(r={deactivateEdit:function(){return k(!1)},formError:x,profileInfo:i},(0,n.Z)(r,"formError",x),(0,n.Z)(r,"updateMyStatus",_),(0,n.Z)(r,"updateMyProfileData",g),r)):(0,p.jsx)(h,{activateEdit:function(){return k(!0)},profileInfo:i,updateMyStatus:_}),F&&(0,p.jsx)("button",{className:u.logoutBtn,onClick:t,children:"Logout"})]})]})},Z=t(8687),N="Post_post__43cTw",I="Post_avatar__dGEbx",k="Post_text__swDVs";var B=function(e){return(0,p.jsxs)("div",{className:N,children:[(0,p.jsx)("div",{className:I,children:(0,p.jsx)("img",{src:e.avatarUrl})}),(0,p.jsxs)("div",{className:k,children:[(0,p.jsx)("p",{children:e.data.text}),(0,p.jsxs)("p",{children:["Likes count: ",e.data.likes]})]})]})},F="Profile_profile__iROPK",w="Profile_myPosts__3JCrI",M="Profile_title__g+iCI",A=function(e){var r=e.postsData.map((function(r,t){return(0,p.jsx)(B,{avatarUrl:e.avatarUrl||d,data:r},t)}));return(0,p.jsx)("div",{className:w,children:r})},T=(0,Z.$j)((function(e){var r;return{postsData:e.profilePage.postsData,avatarUrl:(null===(r=e.profilePage.currUserProfileInfo)||void 0===r?void 0:r.photos.small)||d}}))(A),J=t(6868),S="NewPost_NewPost__l342s";var E=(0,Z.$j)((function(e){return{newPostText:e.profilePage.newPostText}}),{addPost:J.q2})((function(e){var r=(0,x.cI)(),t=r.handleSubmit,o=r.resetField,a=r.watch,s=r.register,i=r.formState.errors;return(0,p.jsxs)("form",{className:S,onSubmit:t((function(){e.addPost(a("postText")),o("postText")})),children:[(0,p.jsx)(j.Z,{validation:{maxLength:{value:500,message:"Your post too long"}},name:"postText",placeholder:"text...",register:s,error:i.postText}),(0,p.jsx)("button",{children:"Add Post"})]})})),U=function(e){return e.currUserProfileInfo?(0,p.jsxs)("div",{className:F,children:[(0,p.jsx)(b,(0,i.Z)({},e)),(0,p.jsx)("h2",{className:M,children:"My posts"}),(0,p.jsx)(E,{}),(0,p.jsx)(T,{})]}):(0,p.jsx)(m.Z,{})},C=t(6626),D=function(e){return e.auth.data.isAuthed},L=t(8877),q=t(7781),Y=t(2889),O={toggleIsFetching:C.ZR,setUserById:J.B3,updateMyStatus:J.NT,logout:P.kS,setAvatar:J.J3,updateMyProfileData:J._7},V=(0,q.qC)((0,Z.$j)((function(e){return{currUserProfileInfo:e.profilePage.currUserProfileInfo,myProfileInfo:e.profilePage.myProfileInfo,myProfileId:e.auth.data.id,isFetching:e.usersPage.isFetching,formError:e.profilePage.myProfileFormError,captchaUrl:e.auth.captchaUrl,isAuthed:D(e)}}),O),Y.Z,L.Z)((function(e){var r=(0,a.useState)(null),t=(0,o.Z)(r,2),i=t[0],n=t[1];return(0,a.useEffect)((function(){e.router.params.userId?n(e.router.params.userId):n(null)}),[e.router.params.userId]),(0,a.useEffect)((function(){i&&e.setUserById(i).then((function(){return e.toggleIsFetching(!1)}))}),[i]),e.isAuthed||e.router.params.userId?e.isFetching?(0,p.jsx)(m.Z,{}):(0,p.jsx)(U,{currUserProfileInfo:i?e.currUserProfileInfo:e.myProfileInfo,updateMyStatus:e.updateMyStatus,logout:e.logout,formError:e.formError,setAvatar:e.setAvatar,updateMyProfileData:e.updateMyProfileData}):(0,p.jsx)(s.Fg,{to:"/login",replace:!0})}))}}]);
//# sourceMappingURL=24.56386dda.chunk.js.map